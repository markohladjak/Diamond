R"~~~(
<!doctype html>
<html lang="en">

<head>
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- Bootstrap CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
	integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


<title>Diamond</title>


<style>
    @media only screen and (max-width: 600px) {
      body {
        background-color: rgb(211, 24, 49);
      }

      .plan {
        height: 400px;
        width: auto;
        object-fit: fill;

      }
    }

    @media only screen and (min-width: 600px) {
      .plan {
		grid-area: header;
        height: auto;
        width: 100%;
        object-fit: contain;
      }
    }

	body {
		background: red;
	}
	

	.test_resize {
		grid-area: header;
		border-style: solid;
		border-color: red;
	}
	
    #b1 {
      position: absolute;
      left: 666px;
      top: 640px;
      /* z-index: -1; */
    }

	
	label.btn {
		padding: 3px 3px;
		border-radius: 0px;
		margin: 3px;
		color: green;
	}
	
	label.btn input {
	  opacity: 0;
	  position: absolute;
	}
	
	label.btn span {
	  text-align: center;
	  padding: 0px 12px;
	  display: block;
	}

	label.btn input:checked+span {
	  background-color: green;
	  color: #fff;
	}
	
	.deviceView {
		background-color: #505050; 
		margin: 2px;
	}
	
	.btn-outline-primary {
		selec:aqua;
	}
	
	.schemeView {
		display: grid;
		grid-template-areas: 'header';
		grid-gap: 10px;
		background-color: green;
	}
</style>



</head>

<body>
  <div class="container">

    <nav class="navbar navbar-dark bg-dark">
      <span class="navbar-brand mb-0 h1">TOYOTA</span>
    </nav>

    <div class="accordion" id="accordionExample">
      <div class="card">
        <div class="card-header" id="headingOne">
          <h2 class="mb-0">
            <button class="btn btn-link btn-block text-left" type="button" data-toggle="collapse"
              data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
              Список
            </button>
          </h2>
        </div>

        <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordionExample">
          <div class="card-body">


            <table class="table table-striped table-dark">
              <thead>
                <tr>
                  <th scope="col">#</th>
                  <th scope="col">Стан</th>
                  <th scope="col">Блок</th>
                </tr>
              </thead>
			  <tr>
				<th/>
				<th>
	              <div id="postViewContainer"></div>
				</th>
			  </tr>	
            </table>
          </div>
        </div>
      </div>
      <div class="card">
        <div class="card-header" id="headingTwo">
          <h2 class="mb-0">
            <button class="btn btn-link btn-block text-left collapsed" type="button" data-toggle="collapse"
              data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
              План
            </button>
          </h2>
        </div>
        <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionExample">
          <div class="card-body">
            <div class="container" style="overflow-x:auto">
				<div class="schemeView">
					<img class="plan" src="scheme.svg">
					<div class="test_resize"></div>
				</div>
				<button id="b1">P.1</button>
            </div>
          </div>
        </div>
      </div>
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">




<div>
  <label class="btn btn-outline-primary"><input type="radio" name="toggle"><span>One</span></label>
  <label class="btn btn-outline-primary"><input type="radio" name="toggle"><span>Two</span></label>
  <label class="btn btn-outline-primary"><input type="radio" name="toggle"><span>Three</span></label>
</div>

    </div>
  </div>



               <tr style="background-color: #505050;">
                <th scope="row">1</th> 
                <td>
                  <button class='btn-success' type="button" id="work#" onClick="onWork()">Робота</button>
                  <button class='btn-warning' type="button" id="done#" onClick="onDone()">Готово</button>
                  <button class='btn-primary' type="button" id="free#" onClick="onFree()">Вільно</button>
                  <button class='btn-danger' type="button" id="sos#" onClick="onSos()">Sos</button>
                </td>
                <td>
                  <button class="" type="button" onClick="toggleActive()">Вкл.</button>
                </td>
              </tr> 





  <!-- Optional JavaScript; choose one of the two! -->

  <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
    crossorigin="anonymous"></script>

  <!-- Option 2: jQuery, Popper.js, and Bootstrap JS
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.djsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
    -->
  <script>
    // var els = generatePostView(5);

    // els.forEach(el => {
    //   document.getElementById("postViewContainer").appendChild(el);
    // })

    //   console.log(httpGet("http://192.168.4.1/"));

    addDevice(1);
    addDevice(2);
    addDevice(3);
    addDevice(4);

    setDeviceState(JSON.stringify({id: 2, state: "Sos"}));

	serverSendInit();

    //removeDevice("3");

    function generatePostView(id) {
      var radioID = "radioID" + id;

      var postText = `<div class="deviceView" id="${id}">
						  <label><span>${id}</span></label>
                          <label class="btn btn-outline-primary"><input type="radio" name="${radioID}" value="Busy" onchange="deviceStateSelected(this)"><span>Busy</span></label>
                          <label class="btn btn-outline-primary"><input type="radio" name="${radioID}" value="Ready" onchange="deviceStateSelected(this)"><span>Ready</span></label>
                          <label class="btn btn-primary"><input type="radio" name="${radioID}" value="Free" onchange="deviceStateSelected(this)"><span>Free</span></label>
                          <label class="btn btn-danger"><input type="radio" name="${radioID}" value="Sos" onchange="deviceStateSelected(this)"><span>Sos</span></label>
                      </div>`

      var div = document.createElement('div');

      div.classList.add("postView");
      div.id = radioID;
      div.innerHTML = postText;

      return div;
    }

    function serverSendInit() {
      if (!!window.EventSource) {
        var source = new EventSource('/events');

        source.addEventListener('open', function (e) {
          console.log("Events Connected");
        }, false);

        source.addEventListener('error', function (e) {
          if (e.target.readyState != EventSource.OPEN) {
            console.log("Events Disconnected");
          }
        }, false);

        source.addEventListener('message', function (e) {
          console.log("message", e.data);
        }, false);

        source.addEventListener('msg', function (e) {
          console.log("msg", e.data);
          processMessage(e.data);
        }, false);

        source.addEventListener('state', function (e) {
          console.log("state", e.data);

          refreshAll(e.data);
        }, false);
      }
    }

    function httpGet(theUrl) {
      var xmlHttp = new XMLHttpRequest();
      xmlHttp.open("GET", theUrl, false); // false for synchronous request
      xmlHttp.send(null);
      return xmlHttp.responseText;
    }

    function processMessage(msg) {
      	var m = JSON.parse(msg) 
		console.log(m);

        switch (m.command) {
          case "add": addDevice(m.id, m.state);
            break;
          case "rem": removeDevice(m.id);
            break;
          case "set": setDeviceState(m.id, m.state);
            break;
        }
    }

    function addDevice(id, state) {
      var el = generatePostView(id);

      document.getElementById("postViewContainer").appendChild(el);

	  setDeviceState(id, state);

      console.log("addDevice", id, state);
    }

    function removeDevice(id) {
      document.getElementById(id).remove();
    }

    function setDeviceState(id, state){
      var radioID = "radioID" + id;

      var node = document.getElementsByName(radioID).forEach( function (item) {
        if (item.value == state) 
          item.checked = true; 
      });

    }

	function refreshAll(data) {
		console.log("refreshAll", data);
		
		container = document.getElementById("postViewContainer");
		
		container.innerHTML = '';
		
      	var m = JSON.parse(data); 

		addDevice(m.id, m.state);
	}
	
    function deviceStateSelected(el) {
		var id = el.parentElement.parentElement.id;
		var state = el.value;
		
		var url = window.location.href + `request?type=state&id=${id}&state=${state}`;

		httpGet(url);
		
		console.log("deviceStateSelected", url);
        console.log(id, ": ",state);
    }


    // Url url = new Uri(urlString);
    //NameValueCollection outer = HttpUtility.ParseQueryString(uri.Query);

    function OnLoadHendler() {

    }
  </script>
</body>

</html>
)~~~"